---
title: "关于搭建博客涉及到的关键技术讲解"
author: "张德旭"
date: "2025-09-24"
description: "本文详细介绍了使用Next.js搭建个人博客的技术实现方案"
tags: ["Next.js", "MDX", "博客搭建"]
cover: "/images/blog-cover.jpg"
---

## 初衷
长话短说，我这人健忘，为了把一些关键代码和技术记住

## 经历
我选择了github pages作为我的网站静态部署服务器是因为他免费，还有一点是他可以写一个workflows用来应对他的部署流程。我认为编写.github/workflows/deploy.yml这样的部署文件，对小白来说有些困难。我展开代码给大家讲讲。
```yml
on:
  push:
    branches: [ main ]
  workflow_dispatch:
```
这段代码的意思是把你的main分支设为github pages生成页面的源代码，而和push平级的workflow_dispatch则是用来设置你可以手动让github进入actions

```yml
permissions:
  contents: read
  pages: write
  id-token: write
```
这是权限控制用来给予github actions权限的，仔细想想也能悟到，我们不可能让action动自己的源代码（即便他是对的...）
```yml
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      
      - name: Setup Node
        uses: actions/setup-node@v4
        with:
          node-version: 20
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Build with Next.js
        run: npm run build
        env:
          NODE_ENV: production
      
      - name: Upload artifact
        uses: actions/upload-pages-artifact@v3
        with:
          path: ./out
```
工作流程。。。。runs-on设置github服务器用的操作系统是啥，steps进入工作步骤
第一个要执行的是代码交付，叫checkout，我一开始也挺意外
第二个是安装node 第三个是安装依赖 第四个是build你的代码，第五个是上传build产物的 就是我的静态页面了
